---
title: Configuration
description: Configure obx with your MCP client.
---

import { Tabs, TabItem, Aside } from '@astrojs/starlight/components';

## MCP Client Configuration

<Tabs>
  <TabItem label="Claude Desktop">
    Edit `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) or `%APPDATA%\Claude\claude_desktop_config.json` (Windows):

    ```json
    {
      "mcpServers": {
        "obsidian": {
          "command": "/usr/local/bin/obx",
          "args": ["serve", "/path/to/your/vault"]
        }
      }
    }
    ```

    Restart Claude Desktop after saving.
  </TabItem>
  <TabItem label="Claude Code">
    The server may be auto-discovered. If not, add to your MCP configuration:

    ```json
    {
      "mcpServers": {
        "obsidian": {
          "command": "/usr/local/bin/obx",
          "args": ["serve", "/path/to/your/vault"]
        }
      }
    }
    ```
  </TabItem>
  <TabItem label="HTTP Streamable">
    Run as an HTTP server for remote access or multi-client setups:

    ```bash
    obx serve /path/to/your/vault --http :8080
    ```

    Or via environment variable:

    ```bash
    OBSIDIAN_ADDR=:8080 obx serve /path/to/your/vault
    ```

    Then point your MCP client to `http://localhost:8080/mcp`.
  </TabItem>
  <TabItem label="Other Clients">
    The server communicates via stdio by default. Run it directly:

    ```bash
    obx serve /path/to/your/vault
    ```

    Configure your MCP client to spawn this process.
  </TabItem>
</Tabs>

## Finding Your Vault Path

<Tabs>
  <TabItem label="macOS">
    Vaults are typically in:
    - `~/Documents/Obsidian/` (default location)
    - `~/Library/Mobile Documents/iCloud~md~obsidian/Documents/` (iCloud)
    
    Or open Obsidian → Settings → Files & Links → Vault path
  </TabItem>
  <TabItem label="Linux">
    Check your home directory:
    - `~/Documents/Obsidian/`
    - `~/Obsidian/`
    
    Or wherever you created your vault.
  </TabItem>
  <TabItem label="Windows">
    Common locations:
    - `C:\Users\YourName\Documents\Obsidian\`
    - `C:\Users\YourName\OneDrive\Obsidian\`
  </TabItem>
</Tabs>

## Multiple Vaults

You have two main options for handling multiple vaults:

### 1. Dynamic Vault Switching (Recommended)
You can register vaults globally and allow the AI assistant to switch between them dynamically using the `manage-vaults` MCP tool. 

First, register your vaults:
```bash
obx vault add work /path/to/work/vault
obx vault add personal /path/to/personal/vault
```

Then configure your MCP server to allow switching between them:
```json
{
  "mcpServers": {
    "obsidian": {
      "command": "/usr/local/bin/obx",
      "args": [
        "serve", 
        "--allow-vault-switching", 
        "--allowed-vaults", "work,personal"
      ]
    }
  }
}
```

### 2. Multiple Server Instances
Alternatively, run multiple distinct server instances pointed at specific paths:

```json
{
  "mcpServers": {
    "work-vault": {
      "command": "/usr/local/bin/obx",
      "args": ["serve", "/path/to/work/vault"]
    },
    "personal-vault": {
      "command": "/usr/local/bin/obx",
      "args": ["serve", "/path/to/personal/vault"]
    }
  }
}
```

<Aside type="tip">
  If using multiple server instances, give each server a descriptive name in the JSON so you know which vault you're working with. If using dynamic vault switching, note that the MCP client only sees "obsidian".
</Aside>

## Troubleshooting

### "Command not found"

The binary isn't in your PATH. Either:
- Use the full path: `/usr/local/bin/obx`
- Add the install directory to your PATH

### "Permission denied"

Make sure the binary is executable:
```bash
chmod +x /usr/local/bin/obx
```

### Server not connecting

1. Check the vault path exists
2. Ensure the config JSON is valid
3. Restart your MCP client
